<html>
	<head>
		<script type="text/javascript" src="data:///www/js/device.js"></script>
		<script type="text/javascript" src="data:///www/js/camera.js"></script>
		<script type="text/javascript">
			var picData = 0;
			function picture() {
				var win = function(imageData) {
					if (imageData && imageData.length > 0) {
						alert('Got non-null image data. Size: ' + imageData.length);
						picData = imageData;
						document.getElementById('testImg').src = "data:image/jpeg;charset=utf-8;base64," + imageData;
					} else {
						alert('Image data is empty. :(');
					}
				};
				var fail = function() {
					alert('Uh oh, problem retrieving picture. Oh noes.');
				};
				navigator.camera.getPicture(win,fail,[]);
			}
		</script>
	</head>
	<body>
		<p>Set a Camera Image in the emulator first</p>
		<hr>
		<p><a href="javascript:picture();">Get the picture</a></p>
		<hr>
		<p><a href="javascript:alert('Pic Data: ' + picData + ', poller: ' + window.device.poller);">Get the picture data</a></p>
		<hr>
		<p>Placeholder for image:</p>
		<img src="data:///www/test/images/0.png" id="testImg" />
		<br/>
		<br/>
		<br/>
		<a href="data:///www/test/index.html">Back</a>
	</body>
</html>