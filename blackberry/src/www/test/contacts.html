<html>
	<head>
		<script type="text/javascript" src="data:///www/js/device.js"></script>
		<script type="text/javascript" src="data:///www/js/contacts.js"></script>
		<script type="text/javascript">
			function findContactsByName(name) {
				var options = {
					nameFilter: name
				};
				var win = function() {
					if (navigator.ContactManager.contacts.length > 0) alert('Found:\nname: ' + navigator.ContactManager.contacts[0].firstName + ' ' + navigator.ContactManager.contacts[0].lastName + '\nemail: ' + navigator.ContactManager.contacts[0].email[0].value);
					else alert("Contact '" + name + "' not found.");
				};
				var fail = function() {
					alert('Failure to retrieve contact!');
				};
				navigator.ContactManager.displayContact(win, fail, options);
			}
			function getAllContacts(pageSize, pageNumber) {
				var options = {};
				if (pageSize) options.pageSize = pageSize;
				if (pageNumber) options.pageNumber = pageNumber;
				var win = function() {
					if (navigator.ContactManager.contacts.length > 0) alert('Found:\nname: ' + navigator.ContactManager.contacts[0].firstName + ' ' + navigator.ContactManager.contacts[0].lastName + '\nemail: ' + navigator.ContactManager.contacts[0].email[0].value);
					else alert("No contacts found.");
				};
				var fail = function() {
					alert('Failure to retrieve contacts!');
				};
				navigator.ContactManager.getAllContacts(win,fail,options);
			}
			function chooseContact() {
				var options = {};
				var win = function() {
					if (navigator.ContactManager.contacts.length > 0) alert('Found:\nname: ' + navigator.ContactManager.contacts[0].firstName + ' ' + navigator.ContactManager.contacts[0].lastName + '\nemail: ' + navigator.ContactManager.contacts[0].email[0].value);
					else alert("No contacts found.");
				};
				navigator.ContactManager.chooseContact(win, options);
			}
		</script>
	</head>
	<body>
		<p><a href="javascript:findContactsByName('Joe');">Find Joe in contacts</a></p>
		<hr>
		<p><a href="javascript:getAllContacts(null,null);">Get first contact in address book</a></p>
		<hr>
		<p><a href="javascript:chooseContact();">Use Contact Chooser to select a Contact</a></p>
		<hr>
		<br/>
		<br/>
		<br/>
		<a href="data:///www/test/index.html">Back</a>
	</body>
</html>